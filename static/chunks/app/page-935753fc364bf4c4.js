(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5403:function(e,a,t){Promise.resolve().then(t.bind(t,6774))},6774:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return u}});var n=t(7437),l=t(5236),r=t(516),s=t(2265),o=t(6463);let c=(0,l.ZF)({apiKey:"AIzaSyDQJQpmKp-Ffkz9To51pA9ZxD_7oC3zN38",authDomain:"xo-game-ae7b9.firebaseapp.com",projectId:"xo-game-ae7b9",storageBucket:"xo-game-ae7b9.appspot.com",messagingSenderId:"418879005181",appId:"1:418879005181:web:5893d95d07bc3b751bb994",measurementId:"G-8NX5EMW78T",databaseURL:"https://xo-game-ae7b9-default-rtdb.firebaseio.com"}),i=(0,r.N8)(c);function u(){let[e,a]=(0,s.useState)(""),[t,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(!1),p=(0,o.useRouter)(),[d,m]=(0,s.useState)(null),f=async()=>{if(!e||!t){alert("Please enter both player names.");return}u(!0);let a=(0,r.iH)(i,"rooms"),n=await (0,r.U2)(a),l=null;if(n.exists()&&n.forEach(e=>{let a=e.val();if(a.players.playerOne===t&&!a.players.playerTwo)return l=e.key,!0}),l){let a={};a["rooms/".concat(l,"/players/playerTwo")]=e,await (0,r.Vx)((0,r.iH)(i),a),m(l),y(l)}else{let a="".concat(e,"_").concat(t),n=(0,r.iH)(i,"rooms/".concat(a));await (0,r.t8)(n,{players:{playerOne:e,playerTwo:null},board:Array(9).fill(""),turn:e}),m(a),y(a)}},y=a=>{let n=(0,r.iH)(i,"rooms/".concat(a));(0,r.jM)(n,n=>{let l=n.val();l&&l.players.playerTwo&&(u(!1),p.push("/game?roomId=".concat(a,"&playerOne=").concat(e,"&playerTwo=").concat(t)))})};return(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)("div",{className:"inputs",children:[(0,n.jsx)("input",{className:"field",type:"text",placeholder:"Player one name ...",value:e,onChange:e=>a(e.target.value),required:!0}),(0,n.jsx)("input",{className:"field",type:"text",placeholder:"Player two name ...",value:t,onChange:e=>l(e.target.value),required:!0})]}),(0,n.jsxs)("div",{className:"play-btns",children:[(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{children:"Loading..."}),children:(0,n.jsx)("button",{className:"online",onClick:f,disabled:c,children:c?"Waiting for player...":"Find or Create Room"})}),(0,n.jsx)("button",{className:"onscreen",onClick:function(){p.push("/offline")},children:"same screen"})]})]})}}},function(e){e.O(0,[481,232,971,23,744],function(){return e(e.s=5403)}),_N_E=e.O()}]);