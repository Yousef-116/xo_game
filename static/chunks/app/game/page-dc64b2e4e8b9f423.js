(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[421],{4306:function(e,a,s){Promise.resolve().then(s.bind(s,2028))},9326:function(e,a,s){"use strict";var r=s(7437);s(2265);var c=s(1359);a.Z=function(e){let{id:a,go:s,cells:l,roomPlayerOne:n,winner:t,winningIndices:i,handleCellClick:o}=e,d=i.includes(a);return(0,r.jsx)("div",{className:"square ".concat(l[a]===n?"circle":"cross"," ").concat(d?"circle"===t||t==n?"p1w":"p2w":""),onClick:()=>{""!==t&&"Draw!"!==t||l[a]||o(a)},children:l[a]&&(0,r.jsx)(r.Fragment,{children:"circle"===l[a]||l[a]===n?(0,r.jsx)(c.JO,{className:"c",icon:"material-symbols:circle-outline"}):"cross"===l[a]||""!==l[a]?(0,r.jsx)(c.JO,{className:"x",icon:"maki:cross"}):null})})}},8009:function(e,a,s){"use strict";var r=s(7437),c=s(1359);s(2265),a.Z=function(e){let{player1:a,player2:s,draw:l}=e;return(0,r.jsxs)("div",{className:"result-row gameboard",children:[(0,r.jsxs)("div",{className:"p1",children:[(0,r.jsx)(c.JO,{className:"",icon:"material-symbols:circle-outline"})," ",(0,r.jsx)("div",{children:a})," "]}),(0,r.jsxs)("div",{className:"draw",children:[(0,r.jsx)(c.JO,{className:"",icon:"f7:infinite"})," ",(0,r.jsx)("div",{children:l})]}),(0,r.jsxs)("div",{className:"p2",children:[(0,r.jsx)(c.JO,{className:"x",icon:"maki:cross"}),(0,r.jsx)("div",{children:s})]})]})}},2028:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return x}});var r=s(7437),c=s(2265),l=s(8009),n=s(9326),t=s(516),i=s(5236),o=s(6463);let d=(0,i.ZF)({apiKey:"AIzaSyDQJQpmKp-Ffkz9To51pA9ZxD_7oC3zN38",authDomain:"xo-game-ae7b9.firebaseapp.com",projectId:"xo-game-ae7b9",storageBucket:"xo-game-ae7b9.appspot.com",messagingSenderId:"418879005181",appId:"1:418879005181:web:5893d95d07bc3b751bb994",measurementId:"G-8NX5EMW78T",databaseURL:"https://xo-game-ae7b9-default-rtdb.firebaseio.com"}),u=(0,t.N8)(d),m=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];function p(){let[e,a]=(0,c.useState)(Array(9).fill("")),[s,i]=(0,c.useState)("circle"),[d,p]=(0,c.useState)(""),[x,f]=(0,c.useState)(0),[b,j]=(0,c.useState)(0),[h,y]=(0,c.useState)(0),[w,N]=(0,c.useState)([]),v=(0,o.useSearchParams)(),g=v.get("roomId"),S=v.get("playerOne")||"circle";v.get("playerTwo");let[k,O]=(0,c.useState)(""),[D,I]=(0,c.useState)("");(0,c.useEffect)(()=>{let e=(0,t.iH)(u,"rooms/".concat(g)),s=(0,t.jM)(e,e=>{let s=e.val();s&&(a(s.board),i(s.turn),O(s.players.playerOne),I(s.players.playerTwo),E(s.board,s.players.playerOne,s.players.playerTwo))});return()=>s()},[u,g]);let C=async()=>{a(Array(9).fill(""));let e="Draw!"===d?s:d;i(e),p(""),N([]);let r=(0,t.iH)(u,"rooms/".concat(g));await (0,t.Vx)(r,{board:Array(9).fill(""),turn:e})},_=r=>{if(""===e[r]&&!d&&s===S){let c=[...e];c[r]=s,a(c);let l=(0,t.iH)(u,"rooms/".concat(g));(0,t.Vx)(l,{board:c,turn:s===k?D:k}),i(s===k?D:k)}},E=(e,a,s)=>{let r="";m.forEach(a=>{e[a[0]]===e[a[1]]&&e[a[1]]===e[a[2]]&&""!==e[a[0]]&&(r=e[a[0]],N(a))}),r?(p(r),r===a?f(e=>e+1):r===s&&j(e=>e+1)):e.every(e=>""!==e)&&""===d&&(r="Draw",p("Draw!"),y(e=>e+1)),""===r&&(N([]),p(""))};return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"message",children:[d?"Draw!"===d?"Draw!":(0,r.jsxs)(r.Fragment,{children:["Player ",(0,r.jsx)("span",{className:"circle"===d?"circle":"cross",children:d})," wins!"]}):"It's now ".concat(s,"'s turn"),d&&(0,r.jsx)("button",{className:"reset-btn",onClick:C,children:"Reset"})]}),(0,r.jsx)("div",{className:"gameboard",children:e.map((a,c)=>(0,r.jsx)(n.Z,{id:c,go:s,cells:e,roomPlayerOne:k,winner:d,winningIndices:w,handleCellClick:_},c))}),(0,r.jsx)(l.Z,{player1:x,player2:b,draw:h})]})}function x(){return(0,r.jsx)(c.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(p,{})})}}},function(e){e.O(0,[481,232,359,971,23,744],function(){return e(e.s=4306)}),_N_E=e.O()}]);